include ~blocks/icon/mixin
include ~blocks/badge/mixin

mixin button(data)
	-
		data = data || {};
		url = data.attributes && data.attributes.href;
		state = [];
		if (data.active) state.push('is-active');
		tagName = url ? 'a' : 'button';
	#{tagName}.button(
		class=state
		class=data.class
		class=mods('button', data.mods)
		)&attributes(data.attributes) #{data.text}
		if (data.icon)
			+icon({ name: data.icon, class: 'button__icon' })
		block
		if (data.badge)
			span.button__badge #{data.badge}
